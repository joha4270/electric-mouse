function difficultySearchFilter(n,t,i,r){if(difffield.length===0)return!0;var u=r[2]["@data-filter"];return difffield.includes(u)}function viewRoute(n){$("#loading").show();$.get("/Route/Details/"+n,function(n){$(".modal-content").html(n);$("#loading").hide()}).done(function(){history.pushState({url:window.URL+"",modalclose:!0},"Details","/Route/Details/"+n);setupReply();$("#modal1").openModal({complete:function(){history.back(-1)}})}).fail(function(){$("#loading").hide();Materialize.toast("Loading error!",4500)})}function setupReply(){$(".show_reply_field a:link").click(function(){$(".show_reply_field").css("display","inline");$(".reply_field").css("display","none");$(this).parent().parent().children(".reply_field").css("display","block")})}function togglemore(){var n=$("#long_content"),t=n.css("max-height");t==="300px"?(n.css("max-height","3000px"),$("#long_content button").html("Show Less")):($("#long_content button").html("Show More"),n.css("max-height","300px"))}function langUpdate(n){$("#lang_id").val(n);$("#lang_id").closest("form").submit()}function initRouteTable(){table=$(".table").DataTable({info:!1,searching:!0,lengthChange:!1,pageLength:50,paging:!1,responsive:!0,columnDefs:[{searchable:!1,targets:2},{searchable:!1,targets:3}]})}function initDefaultTable(){table=$(".table").DataTable({info:!1,searching:!1,lengthChange:!1,pageLength:50,paging:!1,responsive:!0,ordering:!1})}$(".button-collapse").sideNav();$(document).ready(function(){$("select").material_select();$(".datepicker").pickadate({selectMonths:!0,selectYears:15,format:"dd-mm-yyyy",onStart:function(){var n=new Date;this.set("select",[n.getFullYear(),n.getMonth(),n.getDate()])}})});
/*!
 * jQuery.filer minified
 * Copyright (c) 2016 CreativeDream
 * Website: https://github.com/CreativeDream/jquery.filer
 * Version: 1.3 (14-Sep-2016)
 * Requires: jQuery v1.7.1 or later
 */
!function(n){"use strict";n.fn.filer=function(t){return this.each(function(i,r){var e=n(r),a=".jFiler",s=n(),o=n(),h=n(),c=[],l=n.isFunction(t)?t(e,n.fn.filer.defaults):t,f=l&&n.isPlainObject(l)?n.extend(!0,{},n.fn.filer.defaults,l):n.fn.filer.defaults,u={init:function(){e.wrap('<div class="jFiler"><\/div>');u._set("props");e.prop("jFiler").boxEl=s=e.closest(a);u._changeInput()},_bindInput:function(){f.changeInput&&o.length>0&&o.on("click",u._clickHandler);e.on({focus:function(){o.addClass("focused")},blur:function(){o.removeClass("focused")},change:u._onChange});f.dragDrop&&(f.dragDrop.dragContainer.on("drag dragstart dragend dragover dragenter dragleave drop",function(n){n.preventDefault();n.stopPropagation()}),f.dragDrop.dragContainer.on("drop",u._dragDrop.drop),f.dragDrop.dragContainer.on("dragover",u._dragDrop.dragEnter),f.dragDrop.dragContainer.on("dragleave",u._dragDrop.dragLeave));f.uploadFile&&f.clipBoardPaste&&n(window).on("paste",u._clipboardPaste)},_unbindInput:function(t){f.changeInput&&o.length>0&&o.off("click",u._clickHandler);t&&(e.off("change",u._onChange),f.dragDrop&&(f.dragDrop.dragContainer.off("drop",u._dragDrop.drop),f.dragDrop.dragContainer.off("dragover",u._dragDrop.dragEnter),f.dragDrop.dragContainer.off("dragleave",u._dragDrop.dragLeave)),f.uploadFile&&f.clipBoardPaste&&n(window).off("paste",u._clipboardPaste))},_clickHandler:function(){if(!f.uploadFile&&f.addMore&&0!=e.val().length){u._unbindInput(!0);var t=n('<input type="file" />'),i=e.prop("attributes");n.each(i,function(){"required"!=this.name&&t.attr(this.name,this.value)});e.after(t);c.push(t);e=t;u._bindInput();u._set("props")}e.click()},_applyAttrSettings:function(){var t=["name","limit","maxSize","fileMaxSize","extensions","changeInput","showThumbs","appendTo","theme","addMore","excludeName","files","uploadUrl","uploadData","options"],i,n;for(i in t)if(n="data-jfiler-"+t[i],u._assets.hasAttr(n)){switch(t[i]){case"changeInput":case"showThumbs":case"addMore":f[t[i]]=["true","false"].indexOf(e.attr(n))>-1?"true"==e.attr(n):e.attr(n);break;case"extensions":f[t[i]]=e.attr(n).replace(/ /g,"").split(",");break;case"uploadUrl":f.uploadFile&&(f.uploadFile.url=e.attr(n));break;case"uploadData":f.uploadFile&&(f.uploadFile.data=JSON.parse(e.attr(n)));break;case"files":case"options":f[t[i]]=JSON.parse(e.attr(n));break;default:f[t[i]]=e.attr(n)}e.removeAttr(n)}},_changeInput:function(){if(u._applyAttrSettings(),null!=f.beforeRender&&"function"==typeof f.beforeRender?f.beforeRender(s,e):null,f.theme&&s.addClass("jFiler-theme-"+f.theme),"input"!=e.get(0).tagName.toLowerCase()&&"file"!=e.get(0).type)o=e,e=n('<input type="file" name="'+f.name+'" />'),e.css({position:"absolute",left:"-9999px",top:"-9999px","z-index":"-9999"}),s.prepend(e),u._isGn=e;else if(f.changeInput){switch(typeof f.changeInput){case"boolean":o=n('<div class="jFiler-input"><div class="jFiler-input-caption"><span>'+f.captions.feedback+'<\/span><\/div><div class="jFiler-input-button">'+f.captions.button+'<\/div><\/div>"');break;case"string":case"object":o=n(f.changeInput);break;case"function":o=n(f.changeInput(s,e,f))}e.after(o);e.css({position:"absolute",left:"-9999px",top:"-9999px","z-index":"-9999"})}e.prop("jFiler").newInputEl=o;f.dragDrop&&(f.dragDrop.dragContainer=f.dragDrop.dragContainer?n(f.dragDrop.dragContainer):o);(!f.limit||f.limit&&f.limit>=2)&&(e.attr("multiple","multiple"),"[]"!=e.attr("name").slice(-2)?e.attr("name",e.attr("name")+"[]"):null);e.attr("disabled")||f.disabled?(f.disabled=!0,u._unbindInput(!0),s.addClass("jFiler-disabled")):(f.disabled=!1,u._bindInput(),s.removeClass("jFiler-disabled"));f.files&&u._append(!1,{files:f.files});null!=f.afterRender&&"function"==typeof f.afterRender?f.afterRender(h,s,o,e):null},_clear:function(){u.files=null;e.prop("jFiler").files=null;f.uploadFile||f.addMore||u._reset();u._set("feedback",u._itFl&&u._itFl.length>0?u._itFl.length+" "+f.captions.feedback2:f.captions.feedback);null!=f.onEmpty&&"function"==typeof f.onEmpty?f.onEmpty(s,o,e):null},_reset:function(t){if(!t){if(!f.uploadFile&&f.addMore){for(var i=0;i<c.length;i++)c[i].remove();c=[];u._unbindInput(!0);e=u._isGn?u._isGn:n(r);u._bindInput()}u._set("input","")}u._itFl=[];u._itFc=null;u._ajFc=0;u._set("props");e.prop("jFiler").files_list=u._itFl;e.prop("jFiler").current_file=u._itFc;u._itFr=[];s.find("input[name^='jfiler-items-exclude-']:hidden").remove();h.fadeOut("fast",function(){n(this).remove()});e.prop("jFiler").listEl=h=n()},_set:function(n,t){switch(n){case"input":e.val(t);break;case"feedback":o.length>0&&o.find(".jFiler-input-caption span").html(t);break;case"props":e.prop("jFiler")||e.prop("jFiler",{options:f,listEl:h,boxEl:s,newInputEl:o,inputEl:e,files:u.files,files_list:u._itFl,current_file:u._itFc,append:function(n){return u._append(!1,{files:[n]})},enable:function(){f.disabled&&(f.disabled=!1,e.removeAttr("disabled"),s.removeClass("jFiler-disabled"),u._bindInput())},disable:function(){f.disabled||(f.disabled=!0,s.addClass("jFiler-disabled"),u._unbindInput(!0))},remove:function(n){return u._remove(null,{binded:!0,data:{id:n}}),!0},reset:function(){return u._reset(),u._clear(),!0},retry:function(n){return u._retryUpload(n)}})}},_filesCheck:function(){var e=0,i,r;if(f.limit&&u.files.length+u._itFl.length>f.limit)return f.dialogs.alert(u._assets.textParse(f.captions.errors.filesLimit)),!1;for(i=0;i<u.files.length;i++){var t=u.files[i],o=t.name.split(".").pop().toLowerCase(),r={name:t.name,size:t.size,size2:u._assets.bytesToSize(t.size),type:t.type,ext:o};if(null!=f.extensions&&n.inArray(o,f.extensions)==-1&&n.inArray(r.type,f.extensions)==-1)return f.dialogs.alert(u._assets.textParse(f.captions.errors.filesType,r)),!1;if(null!=f.maxSize&&u.files[i].size>1048576*f.maxSize||null!=f.fileMaxSize&&u.files[i].size>1048576*f.fileMaxSize)return f.dialogs.alert(u._assets.textParse(f.captions.errors.filesSize,r)),!1;if(4096==t.size&&0==t.type.length)return f.dialogs.alert(u._assets.textParse(f.captions.errors.folderUpload,r)),!1;if(null!=f.onFileCheck&&"function"==typeof f.onFileCheck?f.onFileCheck(r,f,u._assets.textParse)===!1:null)return!1;if((f.uploadFile||f.addMore)&&!f.allowDuplicates&&(r=u._itFl.filter(function(n){if(n.file.name==t.name&&n.file.size==t.size&&n.file.type==t.type&&(!t.lastModified||n.file.lastModified==t.lastModified))return!0}),r.length>0)){if(1==u.files.length)return!1;t._pendRemove=!0}e+=u.files[i].size}return!(null!=f.maxSize&&e>=Math.round(1048576*f.maxSize))||(f.dialogs.alert(u._assets.textParse(f.captions.errors.filesSizeAll)),!1)},_thumbCreator:{create:function(t){var i=u.files[t],o=u._itFc?u._itFc.id:t,s=i.name,a=i.size,v=i.file,c=i.type?i.type.split("/",1):"".toString().toLowerCase(),l=s.indexOf(".")!=-1?s.split(".").pop().toLowerCase():"",y=f.uploadFile?'<div class="jFiler-jProgressBar">'+f.templates.progressBar+"<\/div>":"",e={id:o,name:s,size:a,size2:u._assets.bytesToSize(a),url:v,type:c,extension:l,icon:u._assets.getIcon(l,c),icon2:u._thumbCreator.generateIcon({type:c,extension:l}),image:'<div class="jFiler-item-thumb-image fi-loading"><\/div>',progressBar:y,_appended:i._appended},r="";return i.opts&&(e=n.extend({},i.opts,e)),r=n(u._thumbCreator.renderContent(e)).attr("data-jfiler-index",o),r.get(0).jfiler_id=o,u._thumbCreator.renderFile(i,r,e),i.forList?r:(u._itFc.html=r,r.hide()[f.templates.itemAppendToEnd?"appendTo":"prependTo"](h.find(f.templates._selectors.list)).show(),void(i._appended||u._onSelect(t)))},renderContent:function(n){return u._assets.textParse(n._appended?f.templates.itemAppend:f.templates.item,n)},renderFile:function(t,i,r){var s,e,o;if(0==i.find(".jFiler-item-thumb-image").length)return!1;if(t.file&&"image"==r.type)return e='<img src="'+t.file+'" draggable="false" />',o=i.find(".jFiler-item-thumb-image.fi-loading"),n(e).error(function(){e=u._thumbCreator.generateIcon(r);i.addClass("jFiler-no-thumbnail");o.removeClass("fi-loading").html(e)}).load(function(){o.removeClass("fi-loading").html(e)}),!0;window.File&&window.FileList&&window.FileReader&&"image"==r.type&&r.size<1e7?(s=new FileReader,s.onload=function(n){var o=i.find(".jFiler-item-thumb-image.fi-loading");if(f.templates.canvasImage){var e=document.createElement("canvas"),s=e.getContext("2d"),t=new Image;t.onload=function(){var u=o.height(),f=o.width(),h=t.height/u,c=t.width/f,l=h<c?h:c,y=t.height/l,r=t.width/l,p=Math.ceil(Math.log(t.width/r)/Math.log(2)),a,v,n,i;(e.height=u,e.width=f,t.width<e.width||t.height<e.height||p<=1)?(a=t.width<e.width?e.width/2-t.width/2:t.width>e.width?-(t.width-e.width)/2:0,v=t.height<e.height?e.height/2-t.height/2:0,s.drawImage(t,a,v,t.width,t.height)):(n=document.createElement("canvas"),i=n.getContext("2d"),n.width=.5*t.width,n.height=.5*t.height,i.fillStyle="#fff",i.fillRect(0,0,n.width,n.height),i.drawImage(t,0,0,n.width,n.height),i.drawImage(n,0,0,.5*n.width,.5*n.height),s.drawImage(n,r>e.width?r-e.width:0,0,.5*n.width,.5*n.height,0,0,r,y));o.removeClass("fi-loading").html('<img src="'+e.toDataURL("image/png")+'" draggable="false" />')};t.onerror=function(){i.addClass("jFiler-no-thumbnail");o.removeClass("fi-loading").html(u._thumbCreator.generateIcon(r))};t.src=n.target.result}else o.removeClass("fi-loading").html('<img src="'+n.target.result+'" draggable="false" />')},s.readAsDataURL(t)):(e=u._thumbCreator.generateIcon(r),o=i.find(".jFiler-item-thumb-image.fi-loading"),i.addClass("jFiler-no-thumbnail"),o.removeClass("fi-loading").html(e))},generateIcon:function(t){var i=new Array(3),r,e,f;if(t&&t.type&&t.type[0]&&t.extension)switch(t.type[0]){case"image":i[0]="f-image";i[1]='<i class="icon-jfi-file-image"><\/i>';break;case"video":i[0]="f-video";i[1]='<i class="icon-jfi-file-video"><\/i>';break;case"audio":i[0]="f-audio";i[1]='<i class="icon-jfi-file-audio"><\/i>';break;default:i[0]="f-file f-file-ext-"+t.extension;i[1]=t.extension.length>0?"."+t.extension:"";i[2]=1}else i[0]="f-file",i[1]=t.extension&&t.extension.length>0?"."+t.extension:"",i[2]=1;return r='<span class="jFiler-icon-file '+i[0]+'">'+i[1]+"<\/span>",1==i[2]&&(e=u._assets.text2Color(t.extension),e&&(f=n(r).appendTo("body"),f.css("background-color",u._assets.text2Color(t.extension)),r=f.prop("outerHTML"),f.remove())),r},_box:function(t){var r,i;if(null!=f.beforeShow&&"function"==typeof f.beforeShow&&!f.beforeShow(u.files,h,s,o,e))return!1;for(h.length<1&&(r=f.appendTo?n(f.appendTo):s,r.find(".jFiler-items").remove(),h=n('<div class="jFiler-items jFiler-row"><\/div>'),e.prop("jFiler").listEl=h,h.append(u._assets.textParse(f.templates.box)).appendTo(r),h.on("click",f.templates._selectors.remove,function(i){i.preventDefault();var r=[t?t.remove.event:i,t?t.remove.el:n(this).closest(f.templates._selectors.item)],e=function(){u._remove(r[0],r[1])};f.templates.removeConfirmation?f.dialogs.confirm(f.captions.removeConfirmation,e):e()})),i=0;i<u.files.length;i++)u.files[i]._appended||(u.files[i]._choosed=!0),u._addToMemory(i),u._thumbCreator.create(i)}},_upload:function(t){var i=u._itFl[t],s=i.html,r=new FormData,o;if(r.append(e.attr("name"),i.file,!!i.file.name&&i.file.name),null!=f.uploadFile.data&&n.isPlainObject("function"==typeof f.uploadFile.data?f.uploadFile.data(i.file):f.uploadFile.data))for(o in f.uploadFile.data)r.append(o,f.uploadFile.data[o]);u._ajax.send(s,r,i)},_ajax:{send:function(t,i,r){return r.ajax=n.ajax({url:f.uploadFile.url,data:i,type:f.uploadFile.type,enctype:f.uploadFile.enctype,xhr:function(){var i=n.ajaxSettings.xhr();return i.upload&&i.upload.addEventListener("progress",function(n){u._ajax.progressHandling(n,t)},!1),i},complete:function(n,t){r.ajax=!1;u._ajFc++;f.uploadFile.synchron&&r.id+1<u._itFl.length&&u._upload(r.id+1);u._ajFc>=u.files.length&&(u._ajFc=0,e.get(0).value="",null!=f.uploadFile.onComplete&&"function"==typeof f.uploadFile.onComplete?f.uploadFile.onComplete(h,s,o,e,n,t):null)},beforeSend:function(n,i){return null==f.uploadFile.beforeSend||"function"!=typeof f.uploadFile.beforeSend||f.uploadFile.beforeSend(t,h,s,o,e,r.id,n,i)},success:function(n,i,u){r.uploaded=!0;null!=f.uploadFile.success&&"function"==typeof f.uploadFile.success?f.uploadFile.success(n,t,h,s,o,e,r.id,i,u):null},error:function(n,i,u){r.uploaded=!1;null!=f.uploadFile.error&&"function"==typeof f.uploadFile.error?f.uploadFile.error(t,h,s,o,e,r.id,n,i,u):null},statusCode:f.uploadFile.statusCode,cache:!1,contentType:!1,processData:!1}),r.ajax},progressHandling:function(n,t){if(n.lengthComputable){var i=Math.round(100*n.loaded/n.total).toString();null!=f.uploadFile.onProgress&&"function"==typeof f.uploadFile.onProgress?f.uploadFile.onProgress(i,t,h,s,o,e):null;t.find(".jFiler-jProgressBar").find(f.templates._selectors.progressBar).css("width",i+"%")}}},_dragDrop:{dragEnter:function(n){clearTimeout(u._dragDrop._drt);f.dragDrop.dragContainer.addClass("dragged");u._set("feedback",f.captions.drop);null!=f.dragDrop.dragEnter&&"function"==typeof f.dragDrop.dragEnter?f.dragDrop.dragEnter(n,o,e,s):null},dragLeave:function(n){clearTimeout(u._dragDrop._drt);u._dragDrop._drt=setTimeout(function(n){return u._dragDrop._dragLeaveCheck(n)?(f.dragDrop.dragContainer.removeClass("dragged"),u._set("feedback",f.captions.feedback),void(null!=f.dragDrop.dragLeave&&"function"==typeof f.dragDrop.dragLeave?f.dragDrop.dragLeave(n,o,e,s):null)):(u._dragDrop.dragLeave(n),!1)},100,n)},drop:function(n){clearTimeout(u._dragDrop._drt);f.dragDrop.dragContainer.removeClass("dragged");u._set("feedback",f.captions.feedback);n&&n.originalEvent&&n.originalEvent.dataTransfer&&n.originalEvent.dataTransfer.files&&n.originalEvent.dataTransfer.files.length>0&&u._onChange(n,n.originalEvent.dataTransfer.files);null!=f.dragDrop.drop&&"function"==typeof f.dragDrop.drop?f.dragDrop.drop(n.originalEvent.dataTransfer.files,n,o,e,s):null},_dragLeaveCheck:function(t){var i=n(t.currentTarget),r=0;return!(!i.is(o)&&(r=o.find(i).length,r>0))}},_clipboardPaste:function(n,t){var i,e,r,f;if((t||n.originalEvent.clipboardData||n.originalEvent.clipboardData.items)&&(!t||n.originalEvent.dataTransfer||n.originalEvent.dataTransfer.items)&&!u._clPsePre&&(i=t?n.originalEvent.dataTransfer.items:n.originalEvent.clipboardData.items,e=function(n,t,i){var h;t=t||"";i=i||512;for(var e=atob(n),o=[],r=0;r<e.length;r+=i){for(var f=e.slice(r,r+i),s=new Array(f.length),u=0;u<f.length;u++)s[u]=f.charCodeAt(u);h=new Uint8Array(s);o.push(h)}return new Blob(o,{type:t})},i))for(r=0;r<i.length;r++)if(i[r].type.indexOf("image")!==-1||i[r].type.indexOf("text/uri-list")!==-1){if(t)try{window.atob(n.originalEvent.dataTransfer.getData("text/uri-list").toString().split(",")[1])}catch(n){return}f=t?e(n.originalEvent.dataTransfer.getData("text/uri-list").toString().split(",")[1],"image/png"):i[r].getAsFile();f.name=Math.random().toString(36).substring(5);f.name+=f.type.indexOf("/")!=-1?"."+f.type.split("/")[1].toString().toLowerCase():".png";u._onChange(n,[f]);u._clPsePre=setTimeout(function(){delete u._clPsePre},1e3)}},_onSelect:function(t){f.uploadFile&&!n.isEmptyObject(f.uploadFile)&&(!f.uploadFile.synchron||f.uploadFile.synchron&&0==n.grep(u._itFl,function(n){return n.ajax}).length)&&u._upload(u._itFc.id);u.files[t]._pendRemove&&(u._itFc.html.hide(),u._remove(null,{binded:!0,data:{id:u._itFc.id}}));null!=f.onSelect&&"function"==typeof f.onSelect?f.onSelect(u.files[t],u._itFc.html,h,s,o,e):null;t+1>=u.files.length&&(null!=f.afterShow&&"function"==typeof f.afterShow?f.afterShow(h,s,o,e):null)},_onChange:function(t,i){if(i){if(!i||0==i.length)return u._set("input",""),u._clear(),!1;u.files=i}else{if(!e.get(0).files||"undefined"==typeof e.get(0).files||0==e.get(0).files.length)return f.uploadFile||f.addMore||(u._set("input",""),u._clear()),!1;u.files=e.get(0).files}if(f.uploadFile||f.addMore||u._reset(!0),e.prop("jFiler").files=u.files,!u._filesCheck()||null!=f.beforeSelect&&"function"==typeof f.beforeSelect&&!f.beforeSelect(u.files,h,s,o,e))return u._set("input",""),u._clear(),f.addMore&&c.length>0&&(u._unbindInput(!0),c[c.length-1].remove(),c.splice(c.length-1,1),e=c.length>0?c[c.length-1]:n(r),u._bindInput()),!1;if(u._set("feedback",u.files.length+u._itFl.length+" "+f.captions.feedback2),f.showThumbs)u._thumbCreator._box();else for(var l=0;l<u.files.length;l++)u.files[l]._choosed=!0,u._addToMemory(l),u._onSelect(l)},_append:function(n,t){var r=!!t&&t.files,i;if(r&&!(r.length<=0)&&(u.files=r,e.prop("jFiler").files=u.files,f.showThumbs)){for(i=0;i<u.files.length;i++)u.files[i]._appended=!0;u._thumbCreator._box()}},_getList:function(n,t){var r=!!t&&t.files,c,i;if(r&&!(r.length<=0)&&(u.files=r,e.prop("jFiler").files=u.files,f.showThumbs)){for(c=[],i=0;i<u.files.length;i++)u.files[i].forList=!0,c.push(u._thumbCreator.create(i));t.callback&&t.callback(c,h,s,o,e)}},_retryUpload:function(t,i){var o=parseInt("object"==typeof i?i.attr("data-jfiler-index"):i),r=u._itFl.filter(function(n){return n.id==o});return r.length>0&&(!f.uploadFile||n.isEmptyObject(f.uploadFile)||r[0].uploaded?void 0:(u._itFc=r[0],e.prop("jFiler").current_file=u._itFc,u._upload(o),!0))},_remove:function(t,r){var l;if(r.binded){if("undefined"!=typeof r.data.id&&(r=h.find(f.templates._selectors.item+"[data-jfiler-index='"+r.data.id+"']"),0==r.length))return!1;r.data.el&&(r=r.data.el)}var v=function(t){var r=s.find("input[name^='jfiler-items-exclude-']:hidden").first();0==r.length&&(r=n('<input type="hidden" name="jfiler-items-exclude-'+(f.excludeName?f.excludeName:("[]"!=e.attr("name").slice(-2)?e.attr("name"):e.attr("name").substring(0,e.attr("name").length-2))+"-"+i)+'">'),r.appendTo(s));t&&n.isArray(t)&&(t=JSON.stringify(t),r.val(t))},a=function(t,i){var e=u._itFl[i],s=[],o,r;if(e.file._choosed||e.file._appended||e.uploaded)for(u._itFr.push(e),o=u._itFl.filter(function(n){return n.file.name==e.file.name}),r=0;r<u._itFr.length;r++)f.addMore&&u._itFr[r]==e&&o.length>0&&(u._itFr[r].remove_name=o.indexOf(e)+"://"+u._itFr[r].file.name),s.push(u._itFr[r].remove_name?u._itFr[r].remove_name:u._itFr[r].file.name);v(s);u._itFl.splice(i,1);u._itFl.length<1?(u._reset(),u._clear()):u._set("feedback",u._itFl.length+" "+f.captions.feedback2);t.fadeOut("fast",function(){n(this).remove()})},y=r.get(0).jfiler_id||r.attr("data-jfiler-index"),c=null;for(l in u._itFl)"length"!==l&&u._itFl.hasOwnProperty(l)&&u._itFl[l].id==y&&(c=l);return!!u._itFl.hasOwnProperty(c)&&(u._itFl[c].ajax?(u._itFl[c].ajax.abort(),void a(r,c)):void(null!=f.onRemove&&"function"==typeof f.onRemove&&f.onRemove(r,u._itFl[c].file,c,h,s,o,e)===!1||a(r,c)))},_addToMemory:function(t){u._itFl.push({id:u._itFl.length,file:u.files[t],html:n(),ajax:!1,uploaded:!1});(f.addMore||u.files[t]._appended)&&(u._itFl[u._itFl.length-1].input=e);u._itFc=u._itFl[u._itFl.length-1];e.prop("jFiler").files_list=u._itFl;e.prop("jFiler").current_file=u._itFc},_assets:{bytesToSize:function(n){if(0==n)return"0 Byte";var t=1e3,i=Math.floor(Math.log(n)/Math.log(t));return(n/Math.pow(t,i)).toPrecision(3)+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][i]},hasAttr:function(n,t){var t=t?t:e,i=t.attr(n);return!(!i||"undefined"==typeof i)},getIcon:function(t,i){return n.inArray(i,["audio","image","text","video"])>-1?'<i class="icon-jfi-file-'+i+" jfi-file-ext-"+t+'"><\/i>':'<i class="icon-jfi-file-o jfi-file-type-'+i+" jfi-file-ext-"+t+'"><\/i>'},textParse:function(t,i){switch(i=n.extend({},{limit:f.limit,maxSize:f.maxSize,fileMaxSize:f.fileMaxSize,extensions:f.extensions?f.extensions.join(","):null},i&&n.isPlainObject(i)?i:{},f.options),typeof t){case"string":return t.replace(/\{\{fi-(.*?)\}\}/g,function(n,t){return t=t.replace(/ /g,""),t.match(/(.*?)\|limitTo\:(\d+)/)?t.replace(/(.*?)\|limitTo\:(\d+)/,function(n,t,r){var t=i[t]?i[t]:"",u=t.substring(0,r);return t.length>u.length?u.substring(0,u.length-3)+"...":u}):i[t]?i[t]:""});case"function":return t(i);default:return t}},text2Color:function(n){var i,t,r;if(!n||0==n.length)return!1;for(t=0,i=0;t<n.length;i=n.charCodeAt(t++)+((i<<5)-i));for(t=0,r="#";t<3;r+=("00"+(i>>2*t++&255).toString(16)).slice(-2));return r}},files:null,_itFl:[],_itFc:null,_itFr:[],_itPl:[],_ajFc:0};return e.on("filer.append",function(n,t){u._append(n,t)}).on("filer.remove",function(n,t){t.binded=!0;u._remove(n,t)}).on("filer.reset",function(){return u._reset(),u._clear(),!0}).on("filer.generateList",function(n,t){return u._getList(n,t)}).on("filer.retry",function(n,t){return u._retryUpload(n,t)}),u.init(),this})};n.fn.filer.defaults={limit:null,maxSize:null,fileMaxSize:null,extensions:null,changeInput:!0,showThumbs:!1,appendTo:null,theme:"default",templates:{box:'<ul class="jFiler-items-list jFiler-items-default"><\/ul>',item:'<li class="jFiler-item"><div class="jFiler-item-container"><div class="jFiler-item-inner"><div class="jFiler-item-icon pull-left">{{fi-icon}}<\/div><div class="jFiler-item-info pull-left"><div class="jFiler-item-title" title="{{fi-name}}">{{fi-name | limitTo:30}}<\/div><div class="jFiler-item-others"><span>size: {{fi-size2}}<\/span><span>type: {{fi-extension}}<\/span><span class="jFiler-item-status">{{fi-progressBar}}<\/span><\/div><div class="jFiler-item-assets"><ul class="list-inline"><li><a class="icon-jfi-trash jFiler-item-trash-action"><\/a><\/li><\/ul><\/div><\/div><\/div><\/div><\/li>',itemAppend:'<li class="jFiler-item"><div class="jFiler-item-container"><div class="jFiler-item-inner"><div class="jFiler-item-icon pull-left">{{fi-icon}}<\/div><div class="jFiler-item-info pull-left"><div class="jFiler-item-title">{{fi-name | limitTo:35}}<\/div><div class="jFiler-item-others"><span>size: {{fi-size2}}<\/span><span>type: {{fi-extension}}<\/span><span class="jFiler-item-status"><\/span><\/div><div class="jFiler-item-assets"><ul class="list-inline"><li><a class="icon-jfi-trash jFiler-item-trash-action"><\/a><\/li><\/ul><\/div><\/div><\/div><\/div><\/li>',progressBar:'<div class="bar"><\/div>',itemAppendToEnd:!1,removeConfirmation:!0,canvasImage:!0,_selectors:{list:".jFiler-items-list",item:".jFiler-item",progressBar:".bar",remove:".jFiler-item-trash-action"}},files:null,uploadFile:null,dragDrop:null,addMore:!1,allowDuplicates:!1,clipBoardPaste:!0,excludeName:null,beforeRender:null,afterRender:null,beforeShow:null,beforeSelect:null,onSelect:null,onFileCheck:null,afterShow:null,onRemove:null,onEmpty:null,options:null,dialogs:{alert:function(n){return alert(n)},confirm:function(n,t){confirm(n)?t():null}},captions:{button:"Choose Files",feedback:"Choose files To Upload",feedback2:"files were chosen",drop:"Drop file here to Upload",removeConfirmation:"Are you sure you want to remove this file?",errors:{filesLimit:"Only {{fi-limit}} files are allowed to be uploaded.",filesType:"Only Images are allowed to be uploaded.",filesSize:"{{fi-name}} is too large! Please upload file up to {{fi-fileMaxSize}} MB.",filesSizeAll:"Files you've choosed are too large! Please upload files up to {{fi-maxSize}} MB.",folderUpload:"You are not allowed to upload folders."}}}}(jQuery),function(n){"use strict";typeof define=="function"&&define.amd?define(["jquery"],n):typeof exports=="object"&&typeof module=="object"?module.exports=n(require("jquery")):n(jQuery)}(function(n,t){"use strict";function s(t,i,r,u){for(var e,f,h,c,a,v,o=[],s=0;s<t.length;s++)e=t[s],e?(f=tinycolor(e),h=f.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light",h+=tinycolor.equals(i,e)?" sp-thumb-active":"",c=f.toString(u.preferredFormat||"rgb"),a=l?"background-color:"+f.toRgbString():"filter:"+f.toFilter(),o.push('<span title="'+c+'" data-color="'+f.toRgbString()+'" class="'+h+'"><span class="sp-thumb-inner" style="'+a+';" /><\/span>')):(v="sp-clear-display",o.push(n("<div />").append(n('<span data-color="" style="background-color:transparent;" class="'+v+'"><\/span>').attr("title",u.noColorSelectedText)).html()));return"<div class='sp-cf "+r+"'>"+o.join("")+"<\/div>"}function y(){for(var n=0;n<i.length;n++)i[n]&&i[n].hide()}function p(t,i){var r=n.extend({},c,t);return r.callbacks={move:f(r.move,i),change:f(r.change,i),show:f(r.show,i),hide:f(r.hide,i),beforeShow:f(r.beforeShow,i)},r}function w(u,f){function fr(){var t,i,r;if(h.showPaletteOnly&&(h.showPalette=!0),rr.text(h.showPaletteOnly?h.togglePaletteMoreText:h.togglePaletteLessText),h.palette)for(ai=h.palette.slice(0),ei=n.isArray(ai[0])?ai:[ai],vi={},t=0;t<ei.length;t++)for(i=0;i<ei[t].length;i++)r=tinycolor(ei[t][i]).toRgbString(),vi[r]=!0;c.toggleClass("sp-flat",ut);c.toggleClass("sp-input-disabled",!h.showInput);c.toggleClass("sp-alpha-enabled",h.showAlpha);c.toggleClass("sp-clear-enabled",ht);c.toggleClass("sp-buttons-disabled",!h.showButtons);c.toggleClass("sp-palette-buttons-disabled",!h.togglePaletteOnly);c.toggleClass("sp-palette-disabled",!h.showPalette);c.toggleClass("sp-palette-only",h.showPaletteOnly);c.toggleClass("sp-initial-disabled",!h.showInitial);c.addClass(h.className).addClass(h.containerClassName);at()}function pu(){function u(t){return t.data&&t.data.ignore?(ct(n(t.target).closest(".sp-thumb-el").data("color")),ni()):(ct(n(t.target).closest(".sp-thumb-el").data("color")),ni(),lt(!0),h.hideAfterPaletteSelect&&ot()),!1}var t,i;r&&c.find("*:not(input)").attr("unselectable","on");fr();ur&&w.after(bt).hide();ht||ir.hide();ut?w.after(c).hide():(t=h.appendTo==="parent"?w.parent():n(h.appendTo),t.length!==1&&(t=n("body")),t.append(c));nu();si.bind("click.spectrum touchstart.spectrum",function(t){nr||ru();t.stopPropagation();n(t.target).is("input")||t.preventDefault()});(w.is(":disabled")||h.disabled===!0)&&su();c.click(k);it.change(hr);it.bind("paste",function(){setTimeout(hr,1)});it.keydown(function(n){n.keyCode==13&&hr()});dr.text(h.cancelText);dr.bind("click.spectrum",function(n){n.stopPropagation();n.preventDefault();eu();ot()});ir.attr("title",h.clearText);ir.bind("click.spectrum",function(n){n.stopPropagation();n.preventDefault();et=!0;ni();ut&&lt(!0)});gr.text(h.chooseText);gr.bind("click.spectrum",function(n){n.stopPropagation();n.preventDefault();r&&it.is(":focus")&&it.trigger("change");bu()&&(lt(!0),ot())});rr.text(h.showPaletteOnly?h.togglePaletteMoreText:h.togglePaletteLessText);rr.bind("click.spectrum",function(n){n.stopPropagation();n.preventDefault();h.showPaletteOnly=!h.showPaletteOnly;h.showPaletteOnly||ut||c.css("left","-="+(au.outerWidth(!0)+5));fr()});o(wr,function(n,t,i){nt=n/gi;et=!1;i.shiftKey&&(nt=Math.round(nt*10)/10);ni()},or,sr);o(tr,function(n,t){ri=parseFloat(t/li);et=!1;h.showAlpha||(nt=1);ni()},or,sr);o(yi,function(n,t,i){var r,u;if(i.shiftKey){if(!ft){var f=ui*pt,e=rt-fi*rt,o=Math.abs(n-f)>Math.abs(t-e);ft=o?"x":"y"}}else ft=null;r=!ft||ft==="x";u=!ft||ft==="y";r&&(ui=parseFloat(n/pt));u&&(fi=parseFloat((rt-t)/rt));et=!1;h.showAlpha||(nt=1);ni()},or,sr);hi?(ct(hi),ti(),gt=h.preferredFormat||tinycolor(hi).format,er(hi)):ti();ut&&cr();i=r?"mousedown.spectrum":"click.spectrum touchstart.spectrum";br.delegate(".sp-thumb-el",i,u);kr.delegate(".sp-thumb-el:nth-child(1)",i,{ignore:!0},u)}function nu(){if(vt&&window.localStorage){try{var t=window.localStorage[vt].split(",#");t.length>1&&(delete window.localStorage[vt],n.each(t,function(n,t){er(t)}))}catch(i){}try{tt=window.localStorage[vt].split(";")}catch(i){}}}function er(t){if(hu){var i=tinycolor(t).toRgbString();if(!vi[i]&&n.inArray(i,tt)===-1)for(tt.push(i);tt.length>lu;)tt.shift();if(vt&&window.localStorage)try{window.localStorage[vt]=tt.join(";")}catch(r){}}}function wu(){var t=[],n,i;if(h.showPalette)for(n=0;n<tt.length;n++)i=tinycolor(tt[n]).toRgbString(),vi[i]||t.push(tt[n]);return t.reverse().slice(0,h.maxSelectionSize)}function tu(){var t=g(),i=n.map(ei,function(n,i){return s(n,t,"sp-palette-row sp-palette-row-"+i,h)});nu();tt&&i.push(s(wu(),t,"sp-palette-row sp-palette-row-selection",h));br.html(i.join(""))}function iu(){if(h.showInitial){var t=dt,n=g();kr.html(s([t,n],n,"sp-palette-row-initial",h))}}function or(){(rt<=0||pt<=0||li<=0)&&at();di=!0;c.addClass(pr);ft=null;w.trigger("dragstart.spectrum",[g()])}function sr(){di=!1;c.removeClass(pr);w.trigger("dragstop.spectrum",[g()])}function hr(){var n=it.val(),t;(n===null||n==="")&&ht?(ct(null),lt(!0)):(t=tinycolor(n),t.isValid()?(ct(t),lt(!0)):it.addClass("sp-validation-error"))}function ru(){yt?ot():cr()}function cr(){var t=n.Event("beforeShow.spectrum");if(yt){at();return}(w.trigger(t,[g()]),ii.beforeShow(g())===!1||t.isDefaultPrevented())||(y(),yt=!0,n(wt).bind("keydown.spectrum",uu),n(wt).bind("click.spectrum",fu),n(window).bind("resize.spectrum",ar),bt.addClass("sp-active"),c.removeClass("sp-hidden"),at(),ti(),dt=g(),iu(),ii.show(dt),w.trigger("show.spectrum",[dt]))}function uu(n){n.keyCode===27&&ot()}function fu(n){n.button!=2&&(di||(yu?lt(!0):eu(),ot()))}function ot(){yt&&!ut&&(yt=!1,n(wt).unbind("keydown.spectrum",uu),n(wt).unbind("click.spectrum",fu),n(window).unbind("resize.spectrum",ar),bt.removeClass("sp-active"),c.addClass("sp-hidden"),ii.hide(g()),w.trigger("hide.spectrum",[g()]))}function eu(){ct(dt,!0)}function ct(n,t){if(tinycolor.equals(n,g())){ti();return}var i,r;!n&&ht?et=!0:(et=!1,i=tinycolor(n),r=i.toHsv(),ri=r.h%360/360,ui=r.s,fi=r.v,nt=r.a);ti();i&&i.isValid()&&!t&&(gt=h.preferredFormat||i.getFormat())}function g(n){return(n=n||{},ht&&et)?null:tinycolor.fromRatio({h:ri,s:ui,v:fi,a:Math.round(nt*100)/100},{format:n.format||gt})}function bu(){return!it.hasClass("sp-validation-error")}function ni(){ti();ii.move(g());w.trigger("move.spectrum",[g()])}function ti(){var s,n,t,e,i,c,o,u,f;it.removeClass("sp-validation-error");ou();s=tinycolor.fromRatio({h:ri,s:1,v:1});yi.css("background-color",s.toHexString());n=gt;nt<1&&!(nt===0&&n==="name")&&(n==="hex"||n==="hex3"||n==="hex6"||n==="name")&&(n="rgb");t=g({format:n});e="";kt.removeClass("sp-clear-display");kt.css("background-color","transparent");!t&&ht?kt.addClass("sp-clear-display"):(i=t.toHexString(),c=t.toRgbString(),l||t.alpha===1?kt.css("background-color",c):(kt.css("background-color","transparent"),kt.css("filter",t.toFilter())),h.showAlpha&&(o=t.toRgb(),o.a=0,u=tinycolor(o).toRgbString(),f="linear-gradient(left, "+u+", "+i+")",r?oi.css("filter",tinycolor(u).toFilter({gradientType:1},i)):(oi.css("background","-webkit-"+f),oi.css("background","-moz-"+f),oi.css("background","-ms-"+f),oi.css("background","linear-gradient(to right, "+u+", "+i+")"))),e=t.toString(n));h.showInput&&it.val(e);h.showPalette&&tu();iu()}function ou(){var u=ui,f=fi,n,t,i,r;ht&&et?(bi.hide(),wi.hide(),pi.hide()):(bi.show(),wi.show(),pi.show(),n=u*pt,t=rt-f*rt,n=Math.max(-st,Math.min(pt-st,n-st)),t=Math.max(-st,Math.min(rt-st,t-st)),pi.css({top:t+"px",left:n+"px"}),i=nt*gi,bi.css({left:i-vr/2+"px"}),r=ri*li,wi.css({top:r-yr+"px"}))}function lt(n){var t=g(),i="",r=!tinycolor.equals(t,dt);t&&(i=t.toString(gt),er(t));ki&&w.val(i);n&&r&&(ii.change(t),w.trigger("change",[t]))}function at(){yt&&(pt=yi.width(),rt=yi.height(),st=pi.height(),cu=tr.width(),li=tr.height(),yr=wi.height(),gi=wr.width(),vr=bi.width(),ut||(c.css("position","absolute"),h.offset?c.offset(h.offset):c.offset(b(c,si))),ou(),h.showPalette&&tu(),w.trigger("reflow.spectrum"))}function ku(){w.show();si.unbind("click.spectrum touchstart.spectrum");c.remove();bt.remove();i[ci.id]=null}function du(i,r){if(i===t)return n.extend({},h);if(r===t)return h[i];h[i]=r;i==="preferredFormat"&&(gt=h.preferredFormat);fr()}function gu(){nr=!1;w.attr("disabled",!1);si.removeClass("sp-disabled")}function su(){ot();nr=!0;w.attr("disabled",!0);si.addClass("sp-disabled")}function nf(n){h.offset=n;at()}var h=p(f,u),ut=h.flat,hu=h.showSelectionPalette,vt=h.localStorageKey,lr=h.theme,ii=h.callbacks,ar=d(at,10),yt=!1,di=!1,pt=0,rt=0,st=0,li=0,cu=0,gi=0,vr=0,yr=0,ri=0,ui=0,fi=0,nt=1,ai=[],ei=[],vi={},tt=h.selectionPalette.slice(0),lu=h.maxSelectionSize,pr="sp-dragging",ft=null,wt=u.ownerDocument,tf=wt.body,w=n(u),nr=!1,c=n(v,wt).addClass(lr),au=c.find(".sp-picker-container"),yi=c.find(".sp-color"),pi=c.find(".sp-dragger"),tr=c.find(".sp-hue"),wi=c.find(".sp-slider"),oi=c.find(".sp-alpha-inner"),wr=c.find(".sp-alpha"),bi=c.find(".sp-alpha-handle"),it=c.find(".sp-input"),br=c.find(".sp-palette"),kr=c.find(".sp-initial"),dr=c.find(".sp-cancel"),ir=c.find(".sp-clear"),gr=c.find(".sp-choose"),rr=c.find(".sp-palette-toggle"),ki=w.is("input"),vu=ki&&w.attr("type")==="color"&&e(),ur=ki&&!ut,bt=ur?n(a).addClass(lr).addClass(h.className).addClass(h.replacerClassName):n([]),si=ur?bt:w,kt=bt.find(".sp-preview-inner"),hi=h.color||ki&&w.val(),dt=!1,gt=h.preferredFormat,yu=!h.showButtons||h.clickoutFiresChange,et=!hi,ht=h.allowEmpty&&!vu,ci;return pu(),ci={show:cr,hide:ot,toggle:ru,reflow:at,option:du,enable:gu,disable:su,offset:nf,set:function(n){ct(n);lt()},get:g,destroy:ku,container:c},ci.id=i.push(ci)-1,ci}function b(t,i){var s=0,u=t.outerWidth(),f=t.outerHeight(),h=i.outerHeight(),e=t[0].ownerDocument,c=e.documentElement,o=c.clientWidth+n(e).scrollLeft(),l=c.clientHeight+n(e).scrollTop(),r=i.offset();return r.top+=h,r.left-=Math.min(r.left,r.left+u>o&&o>u?Math.abs(r.left+u-o):0),r.top-=Math.min(r.top,r.top+f>l&&l>f?Math.abs(f+h-s):s),r}function u(){}function k(n){n.stopPropagation()}function f(n,t){var i=Array.prototype.slice,r=i.call(arguments,2);return function(){return n.apply(t,r.concat(i.call(arguments)))}}function o(t,i,u,f){function h(n){n.stopPropagation&&n.stopPropagation();n.preventDefault&&n.preventDefault();n.returnValue=!1}function v(n){if(s){if(r&&o.documentMode<9&&!n.button)return y();var u=n.originalEvent&&n.originalEvent.touches&&n.originalEvent.touches[0],f=u&&u.pageX||n.pageX,e=u&&u.pageY||n.pageY,v=Math.max(0,Math.min(f-c.left,a)),w=Math.max(0,Math.min(e-c.top,l));p&&h(n);i.apply(t,[v,w,n])}}function w(i){var r=i.which?i.which==3:i.button==2;r||s||u.apply(t,arguments)!==!1&&(s=!0,l=n(t).height(),a=n(t).width(),c=n(t).offset(),n(o).bind(e),n(o.body).addClass("sp-dragging"),v(i),h(i))}function y(){s&&(n(o).unbind(e),n(o.body).removeClass("sp-dragging"),setTimeout(function(){f.apply(t,arguments)},0));s=!1}i=i||function(){};u=u||function(){};f=f||function(){};var o=document,s=!1,c={},l=0,a=0,p="ontouchstart"in window,e={};e.selectstart=h;e.dragstart=h;e["touchmove mousemove"]=v;e["touchend mouseup"]=y;n(t).bind("touchstart mousedown",w)}function d(n,t,i){var r;return function(){var u=this,f=arguments,e=function(){r=null;n.apply(u,f)};i&&clearTimeout(r);(i||!r)&&(r=setTimeout(e,t))}}function e(){return n.fn.spectrum.inputTypeColorSupport()}var c={beforeShow:u,move:u,change:u,show:u,hide:u,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},i=[],r=!!/msie/i.exec(window.navigator.userAgent),l=function(){function t(n,t){return!!~(""+n).indexOf(t)}var i=document.createElement("div"),n=i.style;return n.cssText="background-color:rgba(0,0,0,.5)",t(n.backgroundColor,"rgba")||t(n.backgroundColor,"hsla")}(),a="<div class='sp-replacer'><div class='sp-preview'><div class='sp-preview-inner'><\/div><\/div><div class='sp-dd'>&#9660;<\/div><\/div>",v=function(){var t="",n;if(r)for(n=1;n<=6;n++)t+="<div class='sp-"+n+"'><\/div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'><\/div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'><\/button>","<\/div>","<\/div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'><\/div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'><\/div>","<\/div>","<\/div>","<\/div>","<div class='sp-clear sp-clear-display'>","<\/div>","<div class='sp-hue'>","<div class='sp-slider'><\/div>",t,"<\/div>","<\/div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'><\/div><\/div><\/div>","<\/div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","<\/div>","<div class='sp-initial sp-thumb sp-cf'><\/div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'><\/a>","<button type='button' class='sp-choose'><\/button>","<\/div>","<\/div>","<\/div>"].join("")}(),h="spectrum.id";n.fn.spectrum=function(t){if(typeof t=="string"){var r=this,u=Array.prototype.slice.call(arguments,1);return this.each(function(){var f=i[n(this).data(h)],e;if(f){if(e=f[t],!e)throw new Error("Spectrum: no such method: '"+t+"'");t=="get"?r=f.get():t=="container"?r=f.container:t=="option"?r=f.option.apply(f,u):t=="destroy"?(f.destroy(),n(this).removeData(h)):e.apply(f,u)}}),r}return this.spectrum("destroy").each(function(){var i=n.extend({},t,n(this).data()),r=w(this,i);n(this).data(h,r.id)})};n.fn.spectrum.load=!0;n.fn.spectrum.loadOpts={};n.fn.spectrum.draggable=o;n.fn.spectrum.defaults=c;n.fn.spectrum.inputTypeColorSupport=function e(){if(typeof e._cachedResult=="undefined"){var t=n("<input type='color'/>")[0];e._cachedResult=t.type==="color"&&t.value!==""}return e._cachedResult};n.spectrum={};n.spectrum.localization={};n.spectrum.palettes={};n.fn.spectrum.processNativeColorInputs=function(){var t=n("input[type=color]");t.length&&!e()&&t.spectrum({preferredFormat:"hex6"})},function(){function tt(n){var t={r:0,g:0,b:0},i=1,f=!1,e=!1;return typeof n=="string"&&(n=ii(n)),typeof n=="object"&&(n.hasOwnProperty("r")&&n.hasOwnProperty("g")&&n.hasOwnProperty("b")?(t=it(n.r,n.g,n.b),f=!0,e=String(n.r).substr(-1)==="%"?"prgb":"rgb"):n.hasOwnProperty("h")&&n.hasOwnProperty("s")&&n.hasOwnProperty("v")?(n.s=h(n.s),n.v=h(n.v),t=ut(n.h,n.s,n.v),f=!0,e="hsv"):n.hasOwnProperty("h")&&n.hasOwnProperty("s")&&n.hasOwnProperty("l")&&(n.s=h(n.s),n.l=h(n.l),t=rt(n.h,n.s,n.l),f=!0,e="hsl"),n.hasOwnProperty("a")&&(i=n.a)),i=k(i),{ok:f,format:n.format||e,r:r(255,u(t.r,0)),g:r(255,u(t.g,0)),b:r(255,u(t.b,0)),a:i}}function it(n,t,r){return{r:i(n,255)*255,g:i(t,255)*255,b:i(r,255)*255}}function v(n,t,f){var s;n=i(n,255);t=i(t,255);f=i(f,255);var e=u(n,t,f),h=r(n,t,f),o,c,l=(e+h)/2;if(e==h)o=c=0;else{s=e-h;c=l>.5?s/(2-e-h):s/(e+h);switch(e){case n:o=(t-f)/s+(t<f?6:0);break;case t:o=(f-n)/s+2;break;case f:o=(n-t)/s+4}o/=6}return{h:o,s:c,l:l}}function rt(n,t,r){function h(n,t,i){return(i<0&&(i+=1),i>1&&(i-=1),i<1/6)?n+(t-n)*6*i:i<1/2?t:i<2/3?n+(t-n)*(2/3-i)*6:n}var e,o,s,u,f;return n=i(n,360),t=i(t,100),r=i(r,100),t===0?e=o=s=r:(u=r<.5?r*(1+t):r+t-r*t,f=2*r-u,e=h(f,u,n+1/3),o=h(f,u,n),s=h(f,u,n-1/3)),{r:e*255,g:o*255,b:s*255}}function y(n,t,f){n=i(n,255);t=i(t,255);f=i(f,255);var e=u(n,t,f),h=r(n,t,f),o,c,l=e,s=e-h;if(c=e===0?0:s/e,e==h)o=0;else{switch(e){case n:o=(t-f)/s+(t<f?6:0);break;case t:o=(f-n)/s+2;break;case f:o=(n-t)/s+4}o/=6}return{h:o,s:c,v:l}}function ut(n,t,r){n=i(n,360)*6;t=i(t,100);r=i(r,100);var h=s.floor(n),c=n-h,u=r*(1-t),f=r*(1-c*t),e=r*(1-(1-c)*t),o=h%6,l=[r,f,u,u,e,r][o],a=[e,r,r,f,u,u][o],v=[u,u,e,r,r,f][o];return{r:l*255,g:a*255,b:v*255}}function p(n,i,r,u){var f=[o(t(n).toString(16)),o(t(i).toString(16)),o(t(r).toString(16))];return u&&f[0].charAt(0)==f[0].charAt(1)&&f[1].charAt(0)==f[1].charAt(1)&&f[2].charAt(0)==f[2].charAt(1)?f[0].charAt(0)+f[1].charAt(0)+f[2].charAt(0):f.join("")}function w(n,i,r,u){var f=[o(ni(u)),o(t(n).toString(16)),o(t(i).toString(16)),o(t(r).toString(16))];return f.join("")}function ft(t,i){i=i===0?0:i||10;var r=n(t).toHsl();return r.s-=i/100,r.s=l(r.s),n(r)}function et(t,i){i=i===0?0:i||10;var r=n(t).toHsl();return r.s+=i/100,r.s=l(r.s),n(r)}function ot(t){return n(t).desaturate(100)}function st(t,i){i=i===0?0:i||10;var r=n(t).toHsl();return r.l+=i/100,r.l=l(r.l),n(r)}function ht(i,f){f=f===0?0:f||10;var e=n(i).toRgb();return e.r=u(0,r(255,e.r-t(255*-(f/100)))),e.g=u(0,r(255,e.g-t(255*-(f/100)))),e.b=u(0,r(255,e.b-t(255*-(f/100)))),n(e)}function ct(t,i){i=i===0?0:i||10;var r=n(t).toHsl();return r.l-=i/100,r.l=l(r.l),n(r)}function lt(i,r){var u=n(i).toHsl(),f=(t(u.h)+r)%360;return u.h=f<0?360+f:f,n(u)}function at(t){var i=n(t).toHsl();return i.h=(i.h+180)%360,n(i)}function vt(t){var i=n(t).toHsl(),r=i.h;return[n(t),n({h:(r+120)%360,s:i.s,l:i.l}),n({h:(r+240)%360,s:i.s,l:i.l})]}function yt(t){var i=n(t).toHsl(),r=i.h;return[n(t),n({h:(r+90)%360,s:i.s,l:i.l}),n({h:(r+180)%360,s:i.s,l:i.l}),n({h:(r+270)%360,s:i.s,l:i.l})]}function pt(t){var i=n(t).toHsl(),r=i.h;return[n(t),n({h:(r+72)%360,s:i.s,l:i.l}),n({h:(r+216)%360,s:i.s,l:i.l})]}function wt(t,i,r){i=i||6;r=r||30;var u=n(t).toHsl(),f=360/r,e=[n(t)];for(u.h=(u.h-(f*i>>1)+720)%360;--i;)u.h=(u.h+f)%360,e.push(n(u));return e}function bt(t,i){i=i||6;for(var r=n(t).toHsv(),e=r.h,o=r.s,u=r.v,f=[],s=1/i;i--;)f.push(n({h:e,s:o,v:u})),u=(u+s)%1;return f}function kt(n){var i={};for(var t in n)n.hasOwnProperty(t)&&(i[n[t]]=t);return i}function k(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function i(n,t){dt(n)&&(n="100%");var i=gt(n);return(n=r(t,u(0,parseFloat(n))),i&&(n=parseInt(n*t,10)/100),s.abs(n-t)<1e-6)?1:n%t/parseFloat(t)}function l(n){return r(1,u(0,n))}function f(n){return parseInt(n,16)}function dt(n){return typeof n=="string"&&n.indexOf(".")!=-1&&parseFloat(n)===1}function gt(n){return typeof n=="string"&&n.indexOf("%")!=-1}function o(n){return n.length==1?"0"+n:""+n}function h(n){return n<=1&&(n=n*100+"%"),n}function ni(n){return Math.round(parseFloat(n)*255).toString(16)}function ti(n){return f(n)/255}function ii(n){var i,t;if(n=n.replace(d,"").replace(g,"").toLowerCase(),i=!1,c[n])n=c[n],i=!0;else if(n=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(t=e.rgb.exec(n))?{r:t[1],g:t[2],b:t[3]}:(t=e.rgba.exec(n))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=e.hsl.exec(n))?{h:t[1],s:t[2],l:t[3]}:(t=e.hsla.exec(n))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=e.hsv.exec(n))?{h:t[1],s:t[2],v:t[3]}:(t=e.hsva.exec(n))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=e.hex8.exec(n))?{a:ti(t[1]),r:f(t[2]),g:f(t[3]),b:f(t[4]),format:i?"name":"hex8"}:(t=e.hex6.exec(n))?{r:f(t[1]),g:f(t[2]),b:f(t[3]),format:i?"name":"hex"}:(t=e.hex3.exec(n))?{r:f(t[1]+""+t[1]),g:f(t[2]+""+t[2]),b:f(t[3]+""+t[3]),format:i?"name":"hex"}:!1}var d=/^[\s,#]+/,g=/\s+$/,nt=0,s=Math,t=s.round,r=s.min,u=s.max,a=s.random,n=function(i,r){if(i=i?i:"",r=r||{},i instanceof n)return i;if(!(this instanceof n))return new n(i,r);var u=tt(i);this._originalInput=i;this._r=u.r;this._g=u.g;this._b=u.b;this._a=u.a;this._roundA=t(100*this._a)/100;this._format=r.format||u.format;this._gradientType=r.gradientType;this._r<1&&(this._r=t(this._r));this._g<1&&(this._g=t(this._g));this._b<1&&(this._b=t(this._b));this._ok=u.ok;this._tc_id=nt++},c,b,e;n.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var n=this.toRgb();return(n.r*299+n.g*587+n.b*114)/1e3},setAlpha:function(n){return this._a=k(n),this._roundA=t(100*this._a)/100,this},toHsv:function(){var n=y(this._r,this._g,this._b);return{h:n.h*360,s:n.s,v:n.v,a:this._a}},toHsvString:function(){var n=y(this._r,this._g,this._b),i=t(n.h*360),r=t(n.s*100),u=t(n.v*100);return this._a==1?"hsv("+i+", "+r+"%, "+u+"%)":"hsva("+i+", "+r+"%, "+u+"%, "+this._roundA+")"},toHsl:function(){var n=v(this._r,this._g,this._b);return{h:n.h*360,s:n.s,l:n.l,a:this._a}},toHslString:function(){var n=v(this._r,this._g,this._b),i=t(n.h*360),r=t(n.s*100),u=t(n.l*100);return this._a==1?"hsl("+i+", "+r+"%, "+u+"%)":"hsla("+i+", "+r+"%, "+u+"%, "+this._roundA+")"},toHex:function(n){return p(this._r,this._g,this._b,n)},toHexString:function(n){return"#"+this.toHex(n)},toHex8:function(){return w(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:t(this._r),g:t(this._g),b:t(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+t(this._r)+", "+t(this._g)+", "+t(this._b)+")":"rgba("+t(this._r)+", "+t(this._g)+", "+t(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:t(i(this._r,255)*100)+"%",g:t(i(this._g,255)*100)+"%",b:t(i(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+t(i(this._r,255)*100)+"%, "+t(i(this._g,255)*100)+"%, "+t(i(this._b,255)*100)+"%)":"rgba("+t(i(this._r,255)*100)+"%, "+t(i(this._g,255)*100)+"%, "+t(i(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:b[p(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var i="#"+w(this._r,this._g,this._b,this._a),r=i,f=this._gradientType?"GradientType = 1, ":"",u;return t&&(u=n(t),r=u.toHex8String()),"progid:DXImageTransform.Microsoft.gradient("+f+"startColorstr="+i+",endColorstr="+r+")"},toString:function(n){var i=!!n;n=n||this._format;var t=!1,r=this._a<1&&this._a>=0,u=!i&&r&&(n==="hex"||n==="hex6"||n==="hex3"||n==="name");return u?n==="name"&&this._a===0?this.toName():this.toRgbString():(n==="rgb"&&(t=this.toRgbString()),n==="prgb"&&(t=this.toPercentageRgbString()),(n==="hex"||n==="hex6")&&(t=this.toHexString()),n==="hex3"&&(t=this.toHexString(!0)),n==="hex8"&&(t=this.toHex8String()),n==="name"&&(t=this.toName()),n==="hsl"&&(t=this.toHslString()),n==="hsv"&&(t=this.toHsvString()),t||this.toHexString())},_applyModification:function(n,t){var i=n.apply(null,[this].concat([].slice.call(t)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(st,arguments)},brighten:function(){return this._applyModification(ht,arguments)},darken:function(){return this._applyModification(ct,arguments)},desaturate:function(){return this._applyModification(ft,arguments)},saturate:function(){return this._applyModification(et,arguments)},greyscale:function(){return this._applyModification(ot,arguments)},spin:function(){return this._applyModification(lt,arguments)},_applyCombination:function(n,t){return n.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(wt,arguments)},complement:function(){return this._applyCombination(at,arguments)},monochromatic:function(){return this._applyCombination(bt,arguments)},splitcomplement:function(){return this._applyCombination(pt,arguments)},triad:function(){return this._applyCombination(vt,arguments)},tetrad:function(){return this._applyCombination(yt,arguments)}};n.fromRatio=function(t,i){var u,r;if(typeof t=="object"){u={};for(r in t)t.hasOwnProperty(r)&&(u[r]=r==="a"?t[r]:h(t[r]));t=u}return n(t,i)};n.equals=function(t,i){return!t||!i?!1:n(t).toRgbString()==n(i).toRgbString()};n.random=function(){return n.fromRatio({r:a(),g:a(),b:a()})};n.mix=function(t,i,r){var s,l;r=r===0?0:r||50;var f=n(t).toRgb(),e=n(i).toRgb(),h=r/100,o=h*2-1,c=e.a-f.a,u;return u=o*c==-1?o:(o+c)/(1+o*c),u=(u+1)/2,s=1-u,l={r:e.r*u+f.r*s,g:e.g*u+f.g*s,b:e.b*u+f.b*s,a:e.a*h+f.a*(1-h)},n(l)};n.readability=function(t,i){var f=n(t),e=n(i),r=f.toRgb(),u=e.toRgb(),o=f.getBrightness(),s=e.getBrightness(),h=Math.max(r.r,u.r)-Math.min(r.r,u.r)+Math.max(r.g,u.g)-Math.min(r.g,u.g)+Math.max(r.b,u.b)-Math.min(r.b,u.b);return{brightness:Math.abs(o-s),color:h}};n.isReadable=function(t,i){var r=n.readability(t,i);return r.brightness>125&&r.color>500};n.mostReadable=function(t,i){for(var h=null,o=0,r=!1,u=0;u<i.length;u++){var f=n.readability(t,i[u]),e=f.brightness>125&&f.color>500,s=3*(f.brightness/125)+f.color/500;(e&&!r||e&&r&&s>o||!e&&!r&&s>o)&&(r=e,o=s,h=n(i[u]))}return h};c=n.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};b=n.hexNames=kt(c);e=function(){var n="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+i),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();window.tinycolor=n}();n(function(){n.fn.spectrum.load&&n.fn.spectrum.processNativeColorInputs()})});